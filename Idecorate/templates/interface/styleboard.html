{% load i18n idecorate_interface %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta charset="utf-8">
        <title>iDecorate Wedding</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="stylesheet" type="text/css" href="/media/interface/css/styleboard.css">
        <link rel="stylesheet" type="text/css" href="/media/interface/js/ui/css/jquery.ui.core.css">
        <link rel="stylesheet" type="text/css" href="/media/interface/js/ui/css/jquery.ui.resizable.css">
        <script type="text/javascript">
            var PRODUCT_IMAGE_URL           = '{% url get_product_original_image %}';
            var category_id                 = {{ cat_id }};
            var media_url                   = '{{ MEDIA_URL }}';
            var STYLEBOARD_AJAX_URL         = '{% url styleboard_ajax %}';
            var STYLEBOARD_PRODUCT_AJAX_URL = '{% url styleboard_product_ajax %}';
            var CATEGORY_TREE_AJAX_URL      ='{% url get_category_tree_ajax %}';
            var ADD_TO_CART_URL             = '{% url add_to_cart_ajax %}';
            var REMOVE_TO_CART_URL          = '{% url remove_from_cart_ajax %}';
            var UPDATE_CART                 = '{% url update_cart %}';
            var CHECKOUT_URL                = '{% url checkout %}';
            var MODAL_SRC                   = '{% url crop 0 %}';
            var PRODUCT_DETAILS_URL         = '{% url get_product_details %}';
        </script>
        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <style type="text/css">
        .pagination {
            min-height: 20px;
        }

        #lasso {
          position: relative;
          display: none;
          background: none;
          border-width: 1px;
          border-style: dashed;
          z-index: 8001;
        }
        .input-error {
            border: 1px solid #ff0000 !important;
        }
        .hidden {
            visibility: hidden;
        }
        .categories {
            cursor: pointer;
        }
        .product-list-wrap {
            height: 100%;
            overflow: auto;
        }
        .amount {
            text-align: right !important;
            padding-right: 20px !important;
        }
        .checkOutWrap {
            padding-right: 20px !important;
        }
        .table {

        }
        .table .thead {
            background: #333;
            color: #FFFFFF;
            font-size: 0.875em;
            padding: 7px 0;
        }        
        .table .thead .tr .th, .table .tbody .tr .td {
            display: inline-block;
            text-align: center;
        }
        .table .tfoot .th{
            display: inline-block;
            text-align: center;
        }
        .table .tbody .tr .td{
            padding: 3px 0;
        }
        .table .tbody .tr .td input[type="text"] {
            border: 1px solid #CCCCCC;
            border-radius: 3px 3px 3px 3px;
            padding: 5px;
        }
        .table .tbody .tr .td h5 {
            font-size: 0.75em;
            margin-bottom: 4px;
        }
        .table .tbody .tr .td p {
            font-size: 0.688em;
        }
        .table .span1 {
            width: 10%;
        }
        .table .span2 {
            width: 20%;
        }
        .table .span3 {
            width: 30%;
        }
        .table .span4 {
            width: 40%;
        }
        .table .tbody {
            overflow: auto;
        }
        #footer {
            margin-left: 41%;
        }
        .idecorateTooltip {
            width: 400px;
        }
        .buyItemImg img, .buyItemImg .buyItemMeta {
            float: left
        }
        .buyItemImg .buyItemMeta {
            margin-top: 20px;
            width: 60%;
        }
        .buyItemImg .buyItemMeta {
            text-align: left;
        }
        #buy-table td{
            vertical-align: middle;
        }
        .idecorateTooltip {
            box-shadow: -2px 2px 5px rgba(0, 0, 0, 0.5);
            position: absolute;
            width: 350px;
            background: #fff;
            border: 1px solid #ccc;
            padding: 8px;
            z-index: 500000;
        }
        .idecorateTooltip table {
            width: 100%;
        }
        .idecorateTooltip table td{
            vertical-align: top;
        }
        .idecorateTooltip .close {
            color: #aaa;
            cursor: pointer;
            font-family: Arial,"Lucida Sans Unicode","Lucida Grande",sans-serif;
            font-size: 20px;
            padding: 3px 10px 2px 8px;
            position: absolute;
            right: 0;
            top: 0;
            margin-left: 4px;
        }
        .idecorateTooltip .container-tooltip {
            overflow: hidden;
            padding-top: 8px;
        }
        .idecorateTooltip ul li{
            margin-bottom: 4px;
        }
        </style>
    </head>
    <body>
        <div id="page-wrap">
            <header id="header" class="clearfix">
                {% include "header.html" %}
            </header>
            <div id="content-wrap" class="clearfix">
                <div id="sidebar">
            		<ul id="sidebar-nav" class="etabs sideNav">
            			<li class="tab"><a href="#create-tab" id="createTab">Create</a></li>
            			<li class="tab"><a href="#buy-tab" id="buyTab">Buy</a></li>
            		</ul>
                    <div id="sidebar-form-wrap"  class="clearfix">
                        <h3>My Order</h3>
                        <!-- <form action="" method="post"> -->
                            {% csrf_token %}
                            <fieldset>
                                <div class="sidebarInputs">
                                    <label for="guests">
                                        <input type="text" id="guests" name="guests" placeholder="Guests" /> Guests
                                    </label>
                                    <label for="tables">
                                        <input type="text" id="tables" name="tables" placeholder="Tables" /> Tables
                                    </label>
                                </div>
                                <div class="sidebarTotals">
                                    <h5>Total <span>$ 10,000,000</span></h5>
                                </div>
                            </fieldset>
                        <!-- </form> -->
                    </div>
                    <div id="create-tab" class="clearfix">
                        <div id="create-tab-nav" class="clearfix">
                            <ul class="etabs sideNav">
                                <li class="tab"><a href="#products">Products</a></li>
                                <li class="tab"><a href="#embellishments">Embellishments</a></li>
                                <li class="tab"><a href="#templates">Templates</a></li>
                            </ul>
                        </div>
                        <div class="breadcrumb-wrap">{{ cat_id|get_breadcrumb }}</div>
                        <div class="product-list-wrap">
                            {% include 'interface/styleboard_categories.html' %}
                        </div>                        
                    </div><!-- end of create -->
                    
                    <div id="buy-tab" style="display:none">
                        <!-- <form action="" method="post" id="cart-form"> -->
                            <div class="buyTableWrap">
                                <div class="table">
                                    <div class="thead">
                                        <table width="100%">
                                            <tr>
                                                <th class="span2">Item</th>
                                                <th class="span3">Quantity</th>
                                                <th>Price</th>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="tbody">
                                        <table id="buy-table">                                            
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                    <div class="tfoot">
                                        <table width="100%">
                                            <tr>
                                                <th class="span2">Total</th>
                                                <th class="amount"><span id="cart-total-cur"></span><span id="cart-total-amount"></span></th>
                                            </tr>
                                        </table>
                                    </div>
                                </div>                                
                            </div>
                        <div class="checkOutWrap">                            
                            <input id="check-button" type="button" value="Checkout" class="globalBtn checkoutButton"/>
                        </div>
                        <!-- </form> -->
                    </div>
            	</div>
            	<div id="canvas">
                    <div class="handles">
                        <div class="fakeHandle"></div>
                    </div>
                    <div class="neMenus">
                        <div class="imgControlWrap">
                            <ul class="imgControl clearfix">
                                <li><a href="#" id="remove-btn">Remove</a></li>
                                <li><a href="#" id="flip-btn">Flip</a></li>
                                <li><a href="#" id="flap-btn">Flap</a></li>
                                <li><a href="#" id="clone-btn">Clone</a></li>
                                <li><a href="#" id="forward-btn">Forward</a></li>
                                <li><a href="#" id="backward-btn">Backward</a></li>
                            </ul>
                        </div>
                        <div class="imgBgControlWrap">
                            <ul class="imgBgControl">
                                <li>
                                    <a href="#" id="whiteBg-btn">
                                        <img title="Show Image Background" alt="show bg" src="images/product/thumb/img_thumb_1.jpg" width="50" />
                                    </a>
                                </li>
                                <li>
                                    <a href="#" id="transBg-btn">
                                        <img title="Hide Image Background" alt="hide bg" src="images/product/thumb/img_thumb_1.jpg" width="50" />
                                    </a>
                                </li>
                                <li>
                                    <a href="#" id="customBg-btn">
                                        <img title="Custom Crop Background" alt="crop bg" src="images/product/thumb/img_thumb_1.jpg" width="50" />
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
            	</div>
            </div> <!-- /container -->
                
            <footer id="footer" class="clearfix"> 
            	{% include "footer.html" %}             
            </footer>
        </div>
        <div id="remove_products_container" style="display:none">
        </div>
        <div id="idecorate-tooltip" class="idecorateTooltip" style="display:none">
            <div class="container-tooltip">
                <table cellspacing="0" cellpadding="0">
                    <tbody>
                        <tr valign="top">
                            <td width="42%">
                                <img id="tooltip-image" alt="" src="">
                            </td>
                            <td>
                                <div style="overflow: hidden; padding-left: 8px;">
                                    <ul class="list">
                                        <li id="tooltip-title"></li>
                                        <li id="tooltip-price"></li>
                                        <li id="tooltip-unit"></li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="close">Ã—</div>
        </div>

<div id="page-mask" style="display:none;"></div>
<div id="modal-window" style="display:none;">
    <h2 id="modal-header">
        <a href="#" id="close-modal">&times;</a>
    </h2>
    <div id="iframe-wrap"></div>
</div>       
<script type="text/javascript" src="/media/interface/js/jquery-1.8.2.min.js"></script>
<!-- PYTHON CRF -->
<script type="text/javascript" src="/media/admin/js/csrf.js"></script>
<!-- MENU BAR -->
<script type="text/javascript" src="/media/interface/js/dropdown/hoverIntent.js"></script>
<script type="text/javascript" src="/media/interface/js/dropdown/jquery.dropdown.js"></script>
<script type="text/javascript" src="/media/interface/js/tabpannel/jquery.hashchange.min.js"></script>
<!-- STYLEBOARD TABPANNELS -->
<script type="text/javascript" src="/media/interface/js/tabpannel/jquery.easytabs.min.js"></script>
<!-- PRODUCT CATEGORIES AJAX CALLS -->
<script type="text/javascript" src="/media/interface/js/jquery.mousewheel.js"></script>
<script type="text/javascript" src="/media/js/jquery.cookie.js"></script>
<script type="text/javascript" src="/media/interface/js/product_category.js"></script>
<script type="text/javascript">
    $(document).ready( function() {
        
        $('#sidebar').easytabs({ animate:false });
        
        $("#content-wrap").css({height: contentHeight()});

        $('#create-tab').css({height: thumbWrapHeight()+'%'});

        {% if category_count == 0 %}
            populate_products();
            $('#createTab').click(function(){
                hideProducts();
                $('.product-list').unbind('mousewheel');
                manage_product_pagination();
            });
        {% endif %}   
    });

    $(window).resize(resizedContentHeight);

    function contentHeight() {

        var _height = $(window).height()-
                     $("#header").outerHeight(true)-
                     $("#footer").outerHeight(true)-5;

        return _height;

    }

    function resizedContentHeight(){

        $("#content-wrap").css({height: contentHeight()});
        $('#create-tab').css({height: thumbWrapHeight()+'%'});
    }

    function thumbWrapHeight(){

        var _height = contentHeight()-
                    $("#sidebar-nav").outerHeight(true)-
                    $("#sidebar-form-wrap").outerHeight(true)-
                    $("#create-tab-nav").outerHeight(true);

        return _height/contentHeight()*100;
    }

</script>
<!-- CART -->
<script type="text/javascript" src="/media/interface/js/cart.js"></script>
<!-- IDECORATE APP -->
<script type="text/javascript" src="/media/interface/js/ui/jquery.ui.core.js"></script>
<script type="text/javascript" src="/media/interface/js/ui/jquery.ui.widget.js"></script>
<script type="text/javascript" src="/media/interface/js/ui/jquery.ui.mouse.js"></script>
<script type="text/javascript" src="/media/interface/js/ui/jquery.ui.draggable.js"></script>
<script type="text/javascript" src="/media/interface/js/ui/jquery.ui.droppable.js"></script>
<script type="text/javascript" src="/media/interface/js/ui/jquery.ui.resizable.js"></script>
<script type="text/javascript" src="/media/interface/js/ui/jquery.ui.rotatable.js"></script>
<script type="text/javascript" src="/media/interface/js/jquery.app.js"></script>
        
    </body>
</html>


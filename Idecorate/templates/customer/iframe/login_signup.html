{% load i18n widget_tweaks %}
<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>iDecorate Login/Signup</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="stylesheet" type="text/css" href="/media/interface/css/global.css">
        <style type="text/css">
            #modal-window iframe {
                height: 450px;
            }
            input, select {
              border: 1px solid #CCC;
              padding: 5px;
              -moz-border-radius: 3px;
              -webkit-border-radius: 3px;
              border-radius: 3px;
              -khtml-border-radius: 3px;
            }
            .loginWrapper {
                width: 735px;
                height: 100%;
                padding: 10px;
            }
            .login, .signup {
                width: 330px;
                height: 275px;
                float: left;
            }
            .login {
                margin-left: 45px;
                padding-right: 15px;
                border-right: 1px solid #999999;
            }
            .signup {
                padding-left: 10px;
            }
            .login fieldset, .signup fieldset {
                padding: 10px;
            }
            .login legend, .signup legend {
                padding: 0 0 10px 0;
                font-size: 19px;
            }
            .login input, .signup input {
                width: 300px;
                margin: 5px auto;
            }
            .login form fieldset .action a {
                display: block;
                float: left;
                padding-top: 7px;
                color: blue;
            }
            .login form fieldset .action input, .signup form fieldset .action input {
                width: auto;
                display: block;
                float: right;
            }
            .error {
                padding-left: 5px;
            }
            .errorBlock {
                width: 590px;
                color: #B94A48;
                padding: 8px 35px 8px 14px;
                margin: 0 auto 15px auto;
                background: #F2DEDE;
                border: 1px solid #EED3D7;
                -webkit-border-radius: 4px;
                -moz-border-radius: 4px;
                border-radius: 4px;
                position: relative;
            }
            .errorBlock .closeX {
                color: #000000;
                line-height: 18px;
                text-decoration: none;
                opacity: 0.2;
                filter:alpha(opacity=20);
                float: right;
                position: relative;
                top: -2px;
                right: -21px;
            }

            .errorBlock h4 {
                font-size: 14px;
                font-weight: bold;
                line-height: 18px;
            }

            .errorBlock ol {
                padding-left: 30px;
            }
            .errorBlock li {
                display: list-item;
                line-height: 18px;
                text-align: -webkit-match-parent;
                text-align: center;
            }
            .action {
                width: 100%;
                height: 35px;
            }
            .action input {
                cursor: pointer;
                filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFF', endColorstr='#da9b94'); /* for IE */
                background: -webkit-gradient(linear, left top, left bottom, from(white), to(#DA9B94));
                background: -moz-linear-gradient(top, white, #DA9B94);
                background: -o-linear-gradient(top, white, #DA9B94);
                -moz-border-radius: 4px;
                -webkit-border-radius: 4px;
                border-radius: 4px;
                -khtml-border-radius: 4px;
                border: 1px solid #FFC5C3;
            }
            .action input:hover {
                filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFC5C3', endColorstr='#C7544E'); /* for IE */
                background: -webkit-gradient(linear, left top, left bottom, from(#FFC5C3), to(#C7544E)); /* for webkit browsers */
                background: -moz-linear-gradient(top,  #FFC5C3,  #C7544E); /* for firefox 3.6+ */
            }
        </style>
        <script src="/media/interface/js/jquery-1.8.2.min.js"></script>
    </head>
    <body>
        <div id="login">
            <div class="clearfix loginWrapper">
                <div class="login">
                    <form method="post">
                        {% csrf_token %}
                        <fieldset>
                            <legend>Login</legend>
                            {{ login_form.username|attr:"placeholder:Enter E-mail Address" }}
                            {% if login_form.username.errors %}
                            {% for e in login_form.username.errors %}
                            <p class="error">{{ e }}</p>
                            {% endfor %}
                            {% endif %}
                            {{ login_form.password|attr:"placeholder:Enter Password" }}
                            {% if login_form.password.errors %}
                            {% for e in login_form.password.errors %}
                            <p class="error">{{ e }}</p>
                            {% endfor %}
                            {% endif %}
                            <div class="clearfix action">
                                <a href="{% url forgot_password %}">forgot password</a>
                                <input type="submit" name="btnSubmit" value="Login" />
                            </div>
                            <div>
                            <a id="idecorate_fb" href="#">Login Using Facebook</a>
                            </div>
                            <div>
                            <a id="idecorate_twitter" href="#">Login Using Twitter</a>
                            </div>
                        </fieldset>
                    </form>
                </div>
                <div class="signup">
                    <form method="post">
                        {% csrf_token %}
                        <fieldset>
                            <legend>Signup</legend>
                            {{ signup_form.nickname|attr:"placeholder:Enter Nickname" }}
                            {% if signup_form.nickname.errors %}
                            {% for e in signup_form.nickname.errors %}
                            <p class="error">{{ e }}</p>
                            {% endfor %}
                            {% endif %}
                            {{ signup_form.username|attr:"placeholder:Enter E-mail Address" }}
                            {% if signup_form.username.errors %}
                            {% for e in signup_form.username.errors %}
                            <p class="error">{{ e }}</p>
                            {% endfor %}
                            {% endif %}
                            {{ signup_form.password|attr:"placeholder:Enter Password" }}
                            {% if signup_form.password.errors %}
                            {% for e in signup_form.password.errors %}
                            <p class="error">{{ e }}</p>
                            {% endfor %}
                            {% endif %}
                            {{ signup_form.confirm_password|attr:"placeholder:Enter Password Again" }}
                            {% if signup_form.confirm_password.errors %}
                            {% for e in signup_form.confirm_password.errors %}
                            <p class="error">{{ e }}</p>
                            {% endfor %}
                            {% endif %}
                            <div class="action">
                                <input type="submit" name="btnSubmit" value="Signup" />
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
            {% if messages %}
            <div class="clearfix errorBlock">
                <ul>                    
                    {% for message in messages %}
                    <li>{{ message }}</li>
                    {% endfor %}                    
                </ul>
            </div>
            {% endif %}
        </div>
        <script src="/media/interface/js/jquery.placeholder.js"></script>
        <script type="text/javascript">

        $(function(e){

            $(':input[placeholder]').placeholder();

            $('#idecorate_fb').click(function(e){

                parent.window.location = '/login/facebook';

            });

            $('#idecorate_twitter').click(function(e){

                parent.window.location = '/login/twitter';

            });

        });

        </script>
    </body>
</html>